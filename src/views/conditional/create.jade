extends ../layout.jade

block content
  div(data-page="conditional/create").container
    div.panel.panel-default
      div.panel-heading: h4 Conditional Builder
      div.panel-body
        div.row.col-sm-16

          h4 Conditionals
          div(style="display:inline-block")
            form.form-inline(name='conditionals', style="display:inline-block")
              //  Row 1 field {drop,opt:key} match {op,expression}
              div.form-group
                select.form-control.field-source
                  for item in ['header','cookie','body','full url','protocol','domain','url path','port','request type','query string']
                    option(value=item.val||item.text||item) #{item.text||item}
                input.form-control.field-key(type='text', name='name', placeholder='name', required='')
                select.form-control.match-operation
                  for item in ['regex','contains','starts with','ends with','exact','less than','greater than','one of']
                    option(value=item.val||item.text||item) #{item.text||item}
                  input.form-control(type='text', name='expression', placeholder='expression', required='', size="90%")

            form.form-inline(name='target')
              //  Row 2, needs to use col-xs-## or something similar
              div.form-group
                div.input-group.multi
                  span.input-group-addon Target Url
                  input.form-control(id="targetUrl", type='text', name='name', placeholder='target url', title="Target url should be a relative path to the bin or conditional that should be loaded.  Please do not add the protocol or domain", required='', size="131%")

          span.input-group-btn(style="display:inline-block")
            button(type='button', tabindex='-1').btn.btn-success: i.glyphicon.glyphicon-plus
            br
            button(type='button', tabindex='-1').btn.btn-danger: i.glyphicon.glyphicon-remove

          form.form-inline(name='default')
            div.form-group.pair
              div.input-group.multi
                span.input-group-addon Default
                input.form-control(type='text', name='target url', placeholder='target url',required='',size="100%")

      div.panel-footer
        div.row
          div.col-sm-4
            div.input-group
              span.input-group-addon Example
              select(name='example').form-control
                option(value='') Select ...
                option(value='json') JSON
                option(value='xml') XML
                option(value='jsonp') JSONP
                option(value='text') Plain text
                option(value='whatever1') Whatever1

          div.col-sm-6
            div.input-group
              span.input-group-addon Load File
              input(type='file').form-control

          div.col-sm-2
            form(method="POST", action="/conditional/create")
              input(type='hidden', name='response', value='')
              button(type='submit').btn.btn-primary.btn-block Create Conditional

block scripts
  // script(type='text/javascript', src='/static/bin/create.js')
  // need logic for packaging up and sending
  // need logic for adding/removing conditionals
  // script(type='text/javascript', src='/static/conditional/create.js')
